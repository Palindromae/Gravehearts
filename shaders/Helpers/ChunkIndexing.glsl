//#include "ChunkGPUConst.h"
//#include "ChunkGenerationConst.h"

/*
heightmap_world
*/

float reformat01(float a)
{
	return ((a + 1.0f) * .5f);
}


//////// HEIGHTMAP ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
int CalculateHeightmapIndex(ivec2 xy){
	
	// Convert from world space to padded index space.
	xy += ivec2(heightmap_dimension_padding);

	int index = xy.x;
	index += xy.y * heightmap_dimensions.x;

	return index;
}

int ChunkPositionToHeightmapIndex(vec3 position, ivec2 offset){
	return CalculateHeightmapIndex(ivec2(floor(position.xz / heightmap_noiseSize) + offset));
}


//////// 3D NOISE ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
int CalculateNoise3DIndex(ivec3 xyz){
	
	// Convert from world space to padded index space.
	xyz += ivec3(noise3d_dimension_padding);

	int index = xyz.x;
	index += xyz.y * noise3d_dimensions.x;
	index += xyz.z * noise3d_dimensions.x * noise3d_dimensions.y;

	return index;
}
int ChunkPositionToNoise3DIndex(vec3 position, ivec3 offset){
	return CalculateNoise3DIndex(ivec3(floor(position/noise3d_noiseSize))+offset);
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////